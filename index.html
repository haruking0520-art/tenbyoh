<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Band Practice Mixer</title>

<style>
body {
  font-family: Arial, sans-serif;
  text-align: center;
  background: #111;
  color: white;
}

h2 { margin-top: 20px; }

.track {
  margin: 12px auto;
}

.slider {
  width: 80%;
}

.timeline {
  width: 90%;
  margin-top: 20px;
}

button {
  padding: 10px 20px;
  margin: 10px;
  font-size: 16px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
}

.play { background: #28a745; color: white; }
.stop { background: #dc3545; color: white; }
</style>
</head>
<body>

<h2>ðŸŽ¸ Band Practice Mixer</h2>

<div class="track">Drums<br>
<input class="slider" type="range" min="0" max="1" step="0.01" value="1" id="volDr">
</div>

<div class="track">Bass<br>
<input class="slider" type="range" min="0" max="1" step="0.01" value="1" id="volBa">
</div>

<div class="track">Guitar 1<br>
<input class="slider" type="range" min="0" max="1" step="0.01" value="1" id="volGt1">
</div>

<div class="track">Guitar 2<br>
<input class="slider" type="range" min="0" max="1" step="0.01" value="1" id="volGt2">
</div>

<div class="track">Piano<br>
<input class="slider" type="range" min="0" max="1" step="0.01" value="1" id="volPi">
</div>

<div class="track">Vocal 1<br>
<input class="slider" type="range" min="0" max="1" step="0.01" value="1" id="volVo1">
</div>

<div class="track">Vocal 2<br>
<input class="slider" type="range" min="0" max="1" step="0.01" value="1" id="volVo2">
</div>

<input type="range" id="timeline" class="timeline" value="0" min="0" step="0.01">
<br>
<span id="timeDisplay">0:00</span>

<br>

<button class="play" onclick="playAll()">â–¶ Play</button>
<button class="stop" onclick="stopAll()">â–  Stop</button>

<script>
const dr = new Audio("Dr.mp3");
const ba = new Audio("Ba.mp3");
const gt1 = new Audio("Gt1.mp3");
const gt2 = new Audio("Gt2.mp3");
const pi = new Audio("Pi.mp3");
const vo1 = new Audio("Vo1.mp3");
const vo2 = new Audio("Vo2.mp3");

const tracks = [dr, ba, gt1, gt2, pi, vo1, vo2];

const timeline = document.getElementById("timeline");
const timeDisplay = document.getElementById("timeDisplay");

document.getElementById("volDr").oninput = e => dr.volume = e.target.value;
document.getElementById("volBa").oninput = e => ba.volume = e.target.value;
document.getElementById("volGt1").oninput = e => gt1.volume = e.target.value;
document.getElementById("volGt2").oninput = e => gt2.volume = e.target.value;
document.getElementById("volPi").oninput = e => pi.volume = e.target.value;
document.getElementById("volVo1").oninput = e => vo1.volume = e.target.value;
document.getElementById("volVo2").oninput = e => vo2.volume = e.target.value;

let timer = null;

function playAll() {

  if (!dr.duration) {
    dr.addEventListener("loadedmetadata", startPlayback, { once: true });
  } else {
    startPlayback();
  }
}

function startPlayback() {
  timeline.max = dr.duration;

  tracks.forEach(t => {
    t.currentTime = dr.currentTime;
    t.play().catch(e => console.log(e));
  });

  if (!timer) {
    timer = setInterval(updateTimeline, 100);
  }
}

function stopAll() {
  tracks.forEach(t => {
    t.pause();
    t.currentTime = 0;
  });

  clearInterval(timer);
  timer = null;
  timeline.value = 0;
  timeDisplay.textContent = "0:00";
}

function updateTimeline() {
  timeline.value = dr.currentTime;
  timeDisplay.textContent = formatTime(dr.currentTime);
}

timeline.oninput = function() {
  tracks.forEach(t => t.currentTime = this.value);
};

function formatTime(sec) {
  const m = Math.floor(sec / 60);
  const s = Math.floor(sec % 60).toString().padStart(2, "0");
  return m + ":" + s;
}
</script>

</body>
</html>
